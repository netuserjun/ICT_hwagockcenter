wireshark 팁
statistics탭 - conversation : 프로토콜 별로 분석할 때
file탭 - export object : 특정 프로토콜에 대한 자세한 분석 가능


TCP 통신의 sequence number 	
UDP의 단점을 보완하는 기능.
클라가 송신할 때 초기값 세팅 seq = 0, ack =0
서버가 응답을 하면서 ack = 1 로 증가
클라가 다시 송신할 때 seq =1

클라가 송신하는 next seq 넘버는 서버가 송신하는 ack 넘버에 반영이 된다.
그 ack 넘버는 클라가 다시 보내는 seq넘버에 반영된다.

사실상 패킷의 ack넘버가 seq넘버로 넘어오는 것…



type1 에러 : 인증을 받아야 하는데 인증을 못받은 것
type2 에러 : 인증을 받으면 안되는데 인증을 받은 것.(critical)

TCP 하이재킹(세션 하이재킹) : ack와 seq을 맞춰서 패킷을 바꿔치기 하는거


터미널 서비스 2가지

telnet
	tcp 통신이라서 내부 정보를 다 뜯어볼 수 있다.
	패킷 우클릭 해서 follow - tcp stream 하면 평문으로 다 보임(wireshark)

ssh	
	비대칭 암호화를 이용한 프로토콜
	포트 22번 

DNS 
도메인과 ip를 매핑 시켜주는 서비스
	domain을 이용해해 ip를 조회 : 정방향 조회
	ip를 이용해서 domain을 찾는거 : 역방향 조회
	재귀 질의 : ip 조회의 결과가 나에게 돌아오는 것
	순환 질의 : 다른 서버에 도메인을 조회해서 ip를 물어보는것
	일반적으로 빠른 UDP를 사용한다. 서버가 다수면 TCP를 써야 한다.
	포트 53번

왜 dns를 회사 내부에 두는가?
ip를 외부에서 받아오는 것만으로도 네트워크 트래픽의 낭비가 심하니까 내부에 둔다.
도메인을 커스터마이징 할 수 있다.

웹 암호화
HTTPS
포트는 443. 원래 http는 80번인데 443번 포트로 옮겨서 암호화한다.
TLS로 압축을 하기 때문에 HTTP를 쓸 때 보다 더 빠르다.
HSTS : 처음부터 443포트를 쓰게 끔 고정해준다. (크롬브라우저)
HTTP/3 QUIC
개발중인 프로토콜. 
https://m.blog.naver.com/sehyunfa/221680799006


FTP 
인증과 데이터 전송에 사용하는 포트가 다르다.
엑티브모드 : 서버가 능동적으로 클라이언트에게 접근해서 데이터 전송
클라가 몇 개든 20번에서 전송
패시브모드 : 클라이언트가 요청해서 데이터 전송
클라가 접속할 때마다 포트를 새로 할당. 
	




키분배문제 : 대칭형 암호화에서 복호화 키를 교환하는 문제
1976 디피헬만의 비대칭형 암호 알고리즘 이론정립
1978 소인수분해를 이용한 비대칭형 RSA 암호화 등장
1980 ROBIN 소인수분해의 수학적 검증

비대칭 암호화
	공개키와 개인키는 수학적 역함수 관계에 있다.
	공개키로 암호화한 암호문은 개인키로 복호화 가능
	개인키로 암호화하면 공개키로 복호화 가능
	키 분배 문제는 존재하지 않으나 키 관리 문제가 매우 중요
	실제 서비스에 이용하는 것은 SSH, SSL, TLS, IPSEC, SET, PGP, S/MIME

하이브리드로 기밀성을 위해서는 대칭형을 사용하고 키를 비대칭형으로 전달(경제성)

Hash 함수의 조건
A와 B가 같지 않다면 해시값도 다르다.
A,B 의 길이와 상관없이 해시값의 길이는 동일하다.
A와 B의 해시값이 같아질수 있는 상황을 막는 보호 알고리즘이 있어야한다.

해시값을 보고 해시함수를 유추할 수 있는가?  어렵다


